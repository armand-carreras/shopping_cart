let JSONArray = [
    {
      "_id": "5ced8cb973154be3ab01e830",
      "index": 0,
      "guid": "46d3420f-c410-4e88-b786-07f73fdb7ee8",
      "isActive": false,
      "price": 104.1,
      "picture": "https://assets.stickpng.com/thumbs/580b57fbd9996e24bc43bed6.png",
      "quantity": 69,
      "name": "Cinturon con hebilla personalizada",
      "registered": "2019-01-21T02:48:23 -01:00",
      "category": "varios",
      "tags": [
        "officia",
        "culpa",
        "velit",
        "cupidatat",
        "velit",
        "aliquip",
        "culpa"
      ]
    },
    {
      "_id": "5ced8cb9ffb47802197cc08b",
      "index": 1,
      "guid": "7df5069e-344e-416e-9981-43cc7dedd695",
      "isActive": false,
      "price": 60.4,
      "picture": "http://placehold.it/32x32",
      "quantity": 53,
      "name": "Mochila de nylon",
      "registered": "2017-02-09T01:42:17 -01:00",
      "category": "complementos",
      "tags": [
        "veniam",
        "enim",
        "proident",
        "in",
        "veniam",
        "sunt",
        "aute"
      ]
    },
    {
      "_id": "5ced8cb92a3e65ea807b865d",
      "index": 2,
      "guid": "728dd7a4-e04f-4d14-94a3-d41144bba90e",
      "isActive": true,
      "price": 162.01,
      "picture": "http://placehold.it/32x32",
      "quantity": 13,
      "name": "Bolsa bandolera",
      "registered": "2017-12-06T04:43:22 -01:00",
      "category": "complementos",
      "tags": [
        "dolore",
        "ullamco",
        "ullamco",
        "non",
        "pariatur",
        "cillum",
        "laborum"
      ]
    },
    {
      "_id": "5ced8cb9126d1b968fbedd05",
      "index": 3,
      "guid": "b47542fe-f848-46d0-a5ed-8a916a8a646f",
      "isActive": false,
      "price": 75.1,
      "picture": "http://placehold.it/32x32",
      "quantity": 56,
      "name": "Mochila de nylon",
      "registered": "2015-11-12T03:29:55 -01:00",
      "category": "complementos",
      "tags": [
        "do",
        "nulla",
        "esse",
        "dolor",
        "esse",
        "mollit",
        "officia"
      ]
    },
    {
      "_id": "5ced8cb98f20f08a95d03fc5",
      "index": 4,
      "guid": "0a7c4388-c294-430e-a2f5-b21f5e6533d8",
      "isActive": true,
      "price": 98.09,
      "picture": "http://placehold.it/32x32",
      "quantity": 65,
      "name": "Camiseta raglán",
      "registered": "2016-04-16T06:36:23 -02:00",
      "category": "varios",
      "tags": [
        "irure",
        "mollit",
        "nisi",
        "velit",
        "aliqua",
        "eiusmod",
        "excepteur"
      ]
    },
    {
      "_id": "5ced8cb90e663de795afd1e7",
      "index": 5,
      "guid": "f4ecefde-13fe-412c-967f-070d435b4c3f",
      "isActive": true,
      "price": 58.53,
      "picture": "http://placehold.it/32x32",
      "quantity": 19,
      "name": "Bolsa bandolera",
      "registered": "2018-02-07T02:15:17 -01:00",
      "category": "complementos",
      "tags": [
        "aliqua",
        "eiusmod",
        "Lorem",
        "dolore",
        "consequat",
        "elit",
        "dolor"
      ]
    },
    {
      "_id": "5ced8cb95703d1a61db7ccca",
      "index": 6,
      "guid": "7c221ad6-8a61-4232-aeee-4d76118eecb1",
      "isActive": true,
      "price": 119.47,
      "picture": "http://placehold.it/32x32",
      "quantity": 18,
      "name": "Bolsa de tela",
      "registered": "2017-05-05T11:00:35 -02:00",
      "category": "textil",
      "tags": [
        "consequat",
        "quis",
        "ea",
        "enim",
        "ea",
        "ut",
        "culpa"
      ]
    },
    {
      "_id": "5ced8cb9211eb20fe8a264cf",
      "index": 7,
      "guid": "f3e734e3-bb34-4898-80fb-3e36ab6b7bb0",
      "isActive": true,
      "price": 29.86,
      "picture": "http://placehold.it/32x32",
      "quantity": 35,
      "name": "Gorros",
      "registered": "2018-09-12T02:42:56 -02:00",
      "category": "varios",
      "tags": [
        "est",
        "culpa",
        "dolore",
        "non",
        "id",
        "commodo",
        "eiusmod"
      ]
    },
    {
      "_id": "5ced8cb91164a72109040675",
      "index": 8,
      "guid": "3fbfff2d-0158-4864-892f-376ccdea3f5a",
      "isActive": false,
      "price": 162.83,
      "picture": "http://placehold.it/32x32",
      "quantity": 67,
      "name": "Poster a color",
      "registered": "2015-10-09T01:46:53 -02:00",
      "category": "complementos",
      "tags": [
        "proident",
        "fugiat",
        "et",
        "mollit",
        "ea",
        "nostrud",
        "ullamco"
      ]
    },
    {
      "_id": "5ced8cb954e7923c0295be30",
      "index": 9,
      "guid": "fd052e4e-e4d9-45bb-b8e0-c352cb586194",
      "isActive": false,
      "price": 49.16,
      "picture": "http://placehold.it/32x32",
      "quantity": 45,
      "name": "Cinturon con hebilla personalizada",
      "registered": "2016-10-04T05:15:29 -02:00",
      "category": "complementos",
      "tags": [
        "veniam",
        "Lorem",
        "cillum",
        "veniam",
        "officia",
        "sint",
        "commodo"
      ]
    },
    {
      "_id": "5ced8cb9942406294b8276f4",
      "index": 10,
      "guid": "014b5530-0e46-4fd6-9405-9471f5d8f6b4",
      "isActive": true,
      "price": 174.75,
      "picture": "http://placehold.it/32x32",
      "quantity": 90,
      "name": "Botones",
      "registered": "2019-02-07T01:59:31 -01:00",
      "category": "complementos",
      "tags": [
        "enim",
        "occaecat",
        "mollit",
        "non",
        "dolor",
        "magna",
        "excepteur"
      ]
    },
    {
      "_id": "5ced8cb979bd81ad8bb8762e",
      "index": 11,
      "guid": "e5e02c03-2cca-45a7-9fa2-a6c43b449c50",
      "isActive": false,
      "price": 99.75,
      "picture": "http://placehold.it/32x32",
      "quantity": 60,
      "name": "Botones",
      "registered": "2017-12-16T12:37:30 -01:00",
      "category": "complementos",
      "tags": [
        "cillum",
        "mollit",
        "minim",
        "Lorem",
        "occaecat",
        "tempor",
        "proident"
      ]
    },
    {
      "_id": "5ced8cb977ce9d203349b7a9",
      "index": 12,
      "guid": "dc38d2d9-9f57-4a81-8fac-bd78e3d641b8",
      "isActive": false,
      "price": 154.42,
      "picture": "http://placehold.it/32x32",
      "quantity": 80,
      "name": "Cajas recopilatorio",
      "registered": "2019-04-11T07:06:36 -02:00",
      "category": "textil",
      "tags": [
        "non",
        "nisi",
        "non",
        "aliquip",
        "irure",
        "officia",
        "voluptate"
      ]
    },
    {
      "_id": "5ced8cb99cdc8a061edc4e58",
      "index": 13,
      "guid": "5eaf153a-8e0d-4efa-85b4-d0658d62b7eb",
      "isActive": true,
      "price": 25.1,
      "picture": "http://placehold.it/32x32",
      "quantity": 23,
      "name": "Púas de guitarra",
      "registered": "2017-05-02T08:26:14 -02:00",
      "category": "complementos",
      "tags": [
        "elit",
        "tempor",
        "in",
        "pariatur",
        "ullamco",
        "irure",
        "consectetur"
      ]
    },
    {
      "_id": "5ced8cb95006e39827170bd7",
      "index": 14,
      "guid": "c9a1554f-08b1-448f-8d11-ba74601ccb84",
      "isActive": true,
      "price": 51.28,
      "picture": "http://placehold.it/32x32",
      "quantity": 91,
      "name": "Gorros",
      "registered": "2016-09-24T08:47:58 -02:00",
      "category": "textil",
      "tags": [
        "veniam",
        "elit",
        "ex",
        "aliqua",
        "deserunt",
        "amet",
        "adipisicing"
      ]
    }
]
let amount = 0;

// if ('content' in document.createElement('template')){
//   let productos = document.getElementById("productos");
//   let templateProd = document.getElementById("templateProducts");
//   templateProd.content.querySelector(".nombre").textContent=JSONArray[0].name;
//   templateProd.content.querySelector(".category").textContent = JSONArray[0].category;
//   templateProd.querySelector(".totalPrice").textContent = totalPrice();
//   templateProd.querySelector(".tags").textContent = tagsLoad();
//   templateProd.content.querySelector("img").src = JSONArray[0].picture;
//   templateProd.content.querySelector(".itemPrice").textContent = JSONArray[0].price;
//   templateProd.content.querySelector(".quantityNumber").textContent = toString(amount);
//   let clonProd = document.importNode(templateProd,true);
//   window.alert("hola");
//   document.appendChild(clonProd.content);
// }

//*****************************************************************//
//*************************INIT CARDS******************************//
//******************************************************************/
function addProductCard(template, anclaje, image, id, name, category, price, tags){
  
  image.setAttribute("src","data:image/jpeg;base64,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");
  template.content.querySelector(".flip-card-front").appendChild(image);
  template.content.querySelector(".id").innerHTML = id;
  template.content.querySelectorAll(".nombre")[1].textContent=name;
  template.content.querySelector(".category").textContent = category;
  template.content.querySelector(".price").textContent = price + " €";
  template.content.querySelector(".tags").textContent = tags;
  let clonProd = document.importNode(template,true);
  anclaje.appendChild(clonProd.content);
}
if("content" in document.createElement('template')){
  let image = document.createElement("img");
  let templateProd = document.getElementById('templateProducts');
  let cart = document.getElementsByTagName('article')[0];
  for(let i = 0; i<JSONArray.length ; i++){
    addProductCard(templateProd, cart, image, JSONArray[i]._id, JSONArray[i].name, JSONArray[i].category, JSONArray[i].price, JSONArray[i].tags);
  }
}
//************************************************************//
//************** addbutton event listener*********************//
//************************************************************//
document.querySelectorAll('.addButton').forEach(item => {
  item.addEventListener('click', event => {
    let aside = document.getElementsByTagName('aside')[0];
    let templateAside = document.getElementsByClassName('asideItem')[0];
    let imageAside = document.createElement("img");
    let asideList = aside.querySelectorAll('.tarjetaAside'), i;
    let cajaPadre = this.event.originalTarget.offsetParent;
    let toogle = true;
    for(i = 0; i < asideList.length; i++){
      console.log(i);
      if(asideList[i].querySelector('.id').textContent === cajaPadre.querySelector('.id').textContent){
        asideList[i].querySelector('.itemAmount').textContent = parseInt(asideList[i].querySelector('.itemAmount').textContent)+1;
        asideList[i].querySelector('.totalPrice').textContent = `Total: ${parseInt(cajaPadre.querySelector('.price').textContent) * parseInt(asideList[i].querySelector('.itemAmount').textContent)} €`;
        toogle = false;
      }
    }
    if(toogle){
      templateAside.content.querySelector('.id').textContent = cajaPadre.querySelector('.id').textContent;
      templateAside.content.querySelector('.itemName').textContent = cajaPadre.querySelector('.nombre').textContent;
      templateAside.content.querySelector('.itemType').textContent = cajaPadre.querySelector('.category').textContent;
      templateAside.content.querySelector('.itemAmount').textContent = 1;
      templateAside.content.querySelector('.totalPrice').textContent = `Total: ${cajaPadre.querySelector('.price').textContent}`;
      // imageAside.setAttribute('src', `${cajaPadre.querySelector('img').src}`);
      // templateAside.content.querySelector('.tarjetaAside').appendChild(imageAside);
      let clonAside = document.importNode(templateAside, true);
      aside.appendChild(clonAside.content);
    }
  })
})
//***********************************************************//
//****************FUNCION ADD BUTTON ************************//
//***********************************************************//
// function onclickedAdd(event){
//   alert(this.tagName)
//   if("content" in document.createElement('template')){
//     let aside = document.getElementsByTagName('aside')[0];
//     let templateAside = document.getElementsByClassName('asideItem')[0];
//     let imageAside = document.createElement("img");
//   }
// }
//***********************************************************//
//**************** FUNCION ADD ASIDE ************************//
//***********************************************************//
function addAside(i){
  let aside = document.getElementsByTagName('aside')[0];
  let templateAside = document.getElementsByClassName('asideItem')[0];
  let imageAside = document.createElement("img");
  templateAside.content.querySelector('.itemName').textContent 

}

function hideSummary() {
  let hide = document.getElementById("carritocompra");
  if (hide.style.display === "none") {
    hide.style.display = "block";
  } else {
    hide.style.display = "none";
  }
}



/*************************************************************
********************** QUANTITY +- **************************
*************************************************************/

document.querySelector(".minumQuantity").setAttribute("disabled", "disabled");

let valueCount;

let price = document.getElementById("price").innerText;

function priceTotal() {
  let total = valueCount * price;
    document.getElementById("price").innerText = total
}

document.querySelector(".plusquantity").addEventListener("click", function() {
   
    valueCount = document.getElementById("quantity").value;
    valueCount++;

    document.getElementById("quantity").value = valueCount;

    if (valueCount > 1) {
        document.querySelector(".minumQuantity").removeAttribute("disabled");
        document.querySelector(".minumQuantity").classList.remove("disabled")
    }

    if (valueCount == 10) {
      document.querySelector(".plusquantity").setAttribute("disabled", "disabled")
  }

    priceTotal()
})


document.querySelector(".minumQuantity").addEventListener("click", function() {

    valueCount = document.getElementById("quantity").value;
    valueCount--;

    document.getElementById("quantity").value = valueCount

    if (valueCount == 1) {
        document.querySelector(".minumQuantity").setAttribute("disabled", "disabled")
    }

    if(valueCount <10){
      document.querySelector(".plusquantity").removeAttribute("disabled");
        document.querySelector(".plusquantity").classList.remove("disabled")
    }

    priceTotal()
})

/*************************************************************
********************** Add Products **************************
*************************************************************/

  

  function formValidator(){
    if(document.forms["inputProduct"]["nombre"].value=="" || document.forms["inputProduct"]["price"].value=="" || document.forms["inputProduct"]["category"].value=="" || document.forms["inputProduct"]["quantity"].value=="" || document.forms["inputProduct"]["tags"].value==""){
      alert("you must fill all gaps");
      return false;
    }
    else{
      let Product = {
      "_id": generaHexId(),
      "index": JSONArray[JSONArray.length-1].index + 1,
      "guid": generaHexGuid(),
      "isActive": document.getElementById("checkbox").checked,
      "price" :parseInt(document.forms["inputProduct"]["price"].value),
      "picture" : JSONArray[JSONArray.length-1].picture,
      "quantity" : parseInt(document.forms["inputProduct"]["quantity"].value),
      "name" : document.forms["inputProduct"]["nombre"].value,
      "registered" : Date(),
      "category" : document.forms["inputProduct"]["category"].value,
      "tags" : (document.forms["inputProduct"]["tags"].value).split(" ").splice("")
      };
      JSONArray.push(Product);
      console.log(JSONArray)
    }
      return true;
  }
  function generaHexGuid(){
    let str ='';
    for(let i = 0; i<8; i++){
        str+=parseInt(Math.random() * 16,10).toString(16);
    }
    str += '-';
    for(let i = 0; i<4; i++){
        str+=parseInt(Math.random() * 16,10).toString(16);
    }
    str += '-';
    for(let i = 0; i<4; i++){
        str+=parseInt(Math.random() * 16,10).toString(16);
    }
    str += '-';
    for(let i = 0; i<4; i++){
        str+=parseInt(Math.random() * 16,10).toString(16);
    }
    str += '-';
    for(let i = 0; i<11; i++){
        str+=parseInt(Math.random() * 16,10).toString(16);
    }
    if(JSONArray.some(item => item.guid === str)) guid();
    else{
        return str;
    }
  }
  function generaHexId(){ 
      let str ='';
      for(let i = 0; i<24; i++){
          str+=parseInt(Math.random() * 16,10).toString(16);
      }
      if(JSONArray.some(item => item._id === str)) _id();
      else{
          return str;
      }
  }

  document.getElementById("addProductButton").addEventListener('click', event => {
  let addProductsDiv = document.getElementById("addProducts");
  addProductsDiv.style.display = "flex";
})
document.getElementsByClassName("close")[0].addEventListener('click', event =>{
  let closeAddProducts = document.getElementById("addProducts");
  closeAddProducts.style.display = "none";
})



const deleteItem = (e) =>{

}

const getPriceByProduct = (itemNode) =>{

}

const updatePriceByProduct = (productPrice, index) =>{

}

const getTotalPrice = ()  =>{

}

const createQuantityInput = () =>{

}

const createDeleteButton = () =>{

}

const createQuantityNode = () =>{

}

const createItemNode = (dataType, itemData) =>{

}

const createNewItemRow = (itemName, itemUnitPrice) =>{

}

const createNewItem = () =>{

}

addEventListener = ('load',  ()=>{
});
